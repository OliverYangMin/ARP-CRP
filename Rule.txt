赛题介绍
川航一个月内的全部航班计划与机组排班计划，航班调整,机组排班计划也可以得到相应的恢复。使目标函数值达到最小.
场景描述：
双流机场(ZUUU)10月25日下午13：00到20:00发生流量控制，综合权衡各种安全因素、成本因素，取消、延误、拉直航班，生成合适的解决方案。
具体影响：

1.1 调整方法
1.1.1 航班调整
（一） 备份运力
（二） 调整飞机
（三） 航班延误
（四） 航班取消
（五） 旅客签转
在航班取消、发生机型改变等导致旅客流失的情况下，为了减少损失，提升旅客用户体验，可以将旅客签转至其他航班，但要满足该航班的座位数限制，并且接受签转旅客的航班不能再次签转旅客至其他航班（避免有旅客可能被签转多次的情况）。
（六） 航班直飞
航班由于天气或流控等原因无法顺畅运行时，将联程航班中段取消直飞最终目的地，并妥善处置旅客是航班调整方法之一。（联程航班定义为，前后段衔接并且航班号相同的多个航班）

1.1.2 机组调整
（一） 备份机组
在航班计划出现机组实力缺口时，可以在航班的出发地寻找空闲机组，安排其执行该航班。
（二） 调换机组
将多个机组的航班计划进行调换。
（三） 机组摆渡
当遇到机组计划不衔接（机组的上个航班的目的地与下个航班的出发地不一致）时，可以通过摆渡的方式，采用飞机或是其他交通工具到达下个航班的出发地。

1.2 航班运行约束条件
在对航线进行调整时，调整后的航线计划应满足如下表的约束条件：

注：硬约束是必须满足的约束条件，软约束不是必须满足的约束，但是应当尽量满足，否则将会在目标函数中增加调整成本。

（一） 航站衔接约束
在航班计划调整之后，由同一飞机执行的航线必须满足前一个航班的降落机场与下一个航班的起飞机场相同。
（二） 座位数约束
调换后飞机的座位数应当大于调换前飞机的旅客数。如果不满足，则对剩余的旅客进行签转或是取消，在目标函数中会增加调整成本。
（三） 过站时间约束
计划过站时间的计算方法为：
计划过站时间 = 下一个航班的计划起飞时间 – 上一个航班的计划到达时间
计划过站时间可以低于各机场的标准过站时间限制，根据低于的时间长短产生会在目标函数中增加调整成本。但是，计划过站时间不能低于快速过站时间（标准过站时间的2/3），并且当天过站时间低于标准过站时间的航班数量不超过当天航班总数的5%。
（四） 机场机型约束
某些机场对从该机场起飞与降落至该机场的飞机的机型有特殊要求。
（五） 航线机型约束
执行某些特定航线的飞机的机型有特殊要求。
（六） 延伸跨水约束
某些飞机不能执行包含延伸跨水的航线。
（七） 驻站约束
每架飞机在当天最后一班航班到站后的地点为该飞机当天的驻站，要求每架飞机的驻站不发生变化，如果发生变化则在目标函数中增加调整成本。
（八） 机场开放时间约束
各航班的起飞、降落时间应该分别在起飞与降落机场的开放时间内。
（九） 取消航班数约束
航班调整计划中，当天取消航班总数量不超过当天航班总数的10%。
（十） 飞机故障约束
在飞机故障期间，飞机无法执行航班。

1.3 机组编排约束条件
由于机组排班约束较为复杂，现将部分专有名词与计算规则进行明确：
机组：泛指为飞行期间在航空器上执行任务的航空人员，此处特指机长、副驾驶员（不包括乘务、空警等），机长又根据不同的机上职位和等级，分为机长、检查员。
扩编机组：是指飞行机组成员数量超过飞机机型所要求的操纵飞机的最小值；扩编飞行机组中应至少包含一名具备机长资格和一名具备巡航机长或以上资格的人员；要有其他合格的飞行机组成员代替某一个飞行机组成员，被代替的机组能在休息设施休息。
前车时间：指机组成员在执行飞行任务前由出发地到达机场的时间，各个机场为固定值。
后车时间：指机组成员在执行完飞行任务后由机场到达目的地的时间，各个机场为固定值。
离场时间：指机组成员在执行完航班任务至退场的时间，各个机场为固定值。
维护报到时间：指机组成员在报到至执行飞行任务前的时间段，国内机场为1小时30分钟，国际机场为1小时50分钟。
报到时间：指机组成员在执行飞行任务前报到的时刻，具体计算公式为：计划起飞时间 – 维护报到时间。
飞行值勤期：值勤时间是指机组成员在为了完成飞行任务（包括飞行、摆渡）而到指定地点报到时刻开始，到解除任务时刻为止的连续时间段。值勤时间的具体计算公式为：值勤期最后一个航班的滑入时间 – 报到时间（在一个值勤期内,如机组成员能在适宜的住宿场所得到休息,则该休息时间可以不计入该飞行值勤期的值勤时间）。
休息期：休息期是指机组成员到达休息地点起，到为执行下一次任务离开休息地点为止的连续时间段。休息时间的具体计算公式为：下一飞行任务值勤开始时间（下一个航班的报到时间 – 前车时间）- 前一个飞行任务值勤结束时间（前一个航班的计划到达时间 + 离场时间 + 后车时间）。
飞行时间：飞行时间是指飞机为准备起飞而借自身动力开始移动起，到飞行结束停止移动为止的时间。但由于现场运行情况有差异，每个航班采用统一的预计飞行时间。
机组摆渡：指机组为了执行某个飞行任务或者是执行完飞行任务回到基地而作为乘员乘坐交通工具。机组摆渡的时间不算入休息期，对于前者，摆渡的时间算入值勤时间；对于后者，摆渡的时间不算入值勤时间。
在对机组编排进行调整时，调整后的机组计划应满足如下表的约束条件：


（一） 机组衔接约束
在机组排班计划调整之后，两个航线必须满足前一个航班的降落机场与下一个航班的起飞机场相同。
（二） 机组资质约束
机组排班计划中，执行该航线的机组成员的资质应当与航线需要的资质相匹配。
（三） 休息时间约束
机组各类人员在执行航班时，应满足一定的休息时间的条件：
1、 如果飞行的终止地点所在的时区与机组成员的基地所在的时区有6小时以上（含6小时）的时差，则当机组成员回到基地后，需安排一个至少48小时的连续休息时间；
2、 机组成员在机组成员在前一个飞行值勤期结束后至下一个飞行值勤期开始前，至少应得到10个小时的连续休息期；
3、 任一机组成员在进行飞行任务前的144小时内，都应至少有一个连续的48小时的休息期；
4、 洲际航班结束后休息48小时；
5、 机组成员为执行航班任务前往指定地点乘坐飞机的时间，不算在休息期内；
（四） 飞行时间约束
在一个值勤期内，机组成员的飞行时间不能超过规定的最大飞行时间限制；另外，对于一定周期内，机组成员的累积飞行时间不能超过规定的累积最大时间限制。
（五） 飞行值勤期约束
在一个值勤期内，机组成员的值勤时间不能超过规定的最大值勤时间限制；另外，对于一定周期内，机组成员的累积值勤时间不能超过规定的累积最大时间限制。
（六） 连续特殊航线约束
1、 避免连续4天高高原航线；
2、 避免连续4天执行夜航航班；
3、 避免连续4天执行7点之前的航班；
4、 避免连续4天航班任务均是四段航班；
（七） 均衡性约束
机组人员的出勤天数应当遵循均衡原则，避免部分人员出勤天数过多或是出勤天数过少。
（八） 过站时间约束
1、 机组任务之间同一架飞机之间最低间隔时间默认为20分钟；
2、 机组任务之间不同飞机之间最低间隔时间默认为60分钟；
（九） 机组摆渡约束
机组摆渡只允许使用航班表中的航班进行摆渡。

1.4 目标函数
目标函数是航班调整计划的优化目标，代表了整个航班调整的方向，同时也是最终对各个队伍提交方案的评价标准。目标函数的计算规则如下：
目标函数值=P1*取消航班数+P2*延误航班数+P3*更换驻地数量+P4*更换机型数量+P5*总延误时间+P6*取消旅客人数+P7*延误旅客人数+P8*签转旅客人数+P9*总过站时间缩短时长+ P10*联程拆分航班数量+P11*联程直飞航班数量+P12*过站时间不足航班数量+P13*机组调整数量+P14*值勤时长剩余不足1小时的机组数量+P15*机组人员值勤时长方差+P16*值勤利用率+P17*航班取消的收益损失+P18*调整耗时
其中参数P1-P18为目标函数中各个影响因素的权重。参数设置如下：
P1（取消航班参数）=2000
P2（延误航班参数）=1300
P3（更换驻地参数）=1800
P4（调整机型参数）(初始参数400)
调整机型参数与机型调整的具体情况有关，最终的参数为初始参数*机型调整系数，如：某条航线的初始机型为TYPE_A，调整后为TYPE_C，则调整机型参数应为400*2=800。


P5（总延误时间参数）=25
P6（旅客取消参数）=10
P7（延误旅客参数）
旅客行程延误参数采用阶梯方式，根据不同延误时间段选取不同延误分值，详见下表：


P8（签转旅客参数）
旅客签转延误参数根据签转延误的时间时长，选择不同调整成本系数，详见下表：


P9（过站时间参数）= 1200
P10（联程拆分参数）= 800
联程拆分航班数量是指前后衔接且航班号相同的航班使用不同飞机执飞的数量。
P11（联程直飞参数）= 1200
P12（过站时间不足参数）= 800
过站时间不足航班定义为：过站时间小于标准过站时间，但是不小于快速过站时间的航班数量。
P13（机组调整数量参数）= 300
机组调整数量为，原计划执行飞行计划的机组与调整后执行飞行计划的机组不同的航班数量。
P14（值勤时长不足参数）= 600
P15（值勤时长均衡参数）= 400
P16（值勤利用率参数）= 500
值勤利用率 = 机组成员的平均飞行时间/机组成员的平均出勤次数
P17（航班取消收益参数）= 800
P18（运行耗时参数/单位：分钟）= 500
注1：运行耗时不能超过60分钟。
注2：由于各个航班的重要性各有不同，因此在计算目标函数值的时候，将根据不同航班的“重要系数”对目标函数进行校正。例如，重要系数为3的航班，统计其取消航班数、延误航班数、更换驻地数量、更换机型数量、总延误时间、取消旅客人数、延误旅客人数、签转旅客人数、总过站时间缩短时长等，按照3倍统计。